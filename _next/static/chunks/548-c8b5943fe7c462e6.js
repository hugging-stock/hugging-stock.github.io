"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{6360:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(7437),s=n(2265),l=n(3635);let r={id:0,date_start:"",info:void 0,path:null,url_pickle:null,filename:null,time_created:"",date_end:"",ticker:"",info_type:"",url:null,size:0,content_type:null,time_updated:null,title:null,description1:null,descLink1:null,description2:null,descLink2:null,description3:null,descLink3:null,action:null,message:null,html_content:null,html_markups:{__html:""},chart_url:""};var i=n(2575);let c=e=>{var t;new DOMParser().parseFromString(null!==(t=e.html_content)&&void 0!==t?t:"","text/html");let n=e.html_content;return n},d=e=>{var t,n,d,o,u;let h=(0,l.a9)(),{width:m,height:x}=(0,l.dz)(),[g,p]=(0,s.useState)(!1),[f,j]=(0,s.useState)(new Date),[v,w]=(0,s.useState)(new Date),[b,N]=(0,s.useState)(30),[k,y]=(0,s.useState)(30),[_,S]=(0,s.useState)(r),[D,L]=(0,s.useState)(""),[E,z]=(0,s.useState)("lg"),T=t=>{if(f>v||v>new Date||f>new Date){L("You're dates are off.  Please fix first then Recalculate.");return}p(!0),L(""),z(t),fetch("".concat("https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws","/stocks/").concat(e.item.ticker,"/").concat(e.item.chart_url,"?date_start=").concat(f.toISOString().split("T")[0],"&date_end=").concat(v.toISOString().split("T")[0]).concat("sm"==t?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(h.token)}}).then(e=>e.json()).then(t=>{t[0].chart_url=e.item.chart_url,S(t[0]);let n=new Date(t[0].date_start),a=new Date(t[0].date_end);j(n),w(a),p(!1)}).catch(e=>{let t="Chart Display Error: ".concat(e);L(t),p(!1),console.log(t)})};return(0,s.useEffect)(()=>{console.log("width adjusting"),m<=500&&"lg"==E&&!g&&T("sm"),m>500&&"sm"==E&&!g&&T("lg")},[m]),(0,s.useEffect)(()=>{if(e.item&&0==_.id){S(e.item);let t=new Date(e.item.date_start),n=new Date(e.item.date_end);j(t),w(n)}},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"pb-1 w-full",children:(0,a.jsxs)("div",{className:"items-center w-full",children:[g?(0,a.jsx)(i.Z,{}):null,""!=D?(0,a.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:D}):null,(0,a.jsxs)("div",{className:"stats shadow mb-3 flex-col lg:flex-row",children:[(0,a.jsxs)("div",{className:"stat bg-white flex-wrap}",children:[(0,a.jsx)("div",{className:"stat-figure text-primary",children:(0,a.jsx)("a",{href:null!==(n=_.descLink1)&&void 0!==n?n:"",target:"_blank",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,a.jsx)("div",{className:"stat-value text-xl lg:text-2xl",children:m>500||_.title&&_.title.length<=33?_.title:(null===(t=_.title)||void 0===t?void 0:t.substring(0,33))+"..."}),(0,a.jsx)("div",{className:"flex flex-wrap",children:_.description1})]}),_.description2&&m>500?(0,a.jsxs)("div",{className:"stat bg-white",children:[(0,a.jsx)("div",{className:"stat-figure text-secondary",children:(0,a.jsx)("a",{href:null!==(d=_.descLink2)&&void 0!==d?d:"",target:"_blank",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,a.jsx)("div",{className:"flex flex-wrap",children:_.description2})]}):null,_.description3&&m>500?(0,a.jsxs)("div",{className:"stat bg-white",children:[(0,a.jsx)("div",{className:"stat-figure text-secondary",children:(0,a.jsx)("a",{href:null!==(o=_.descLink3)&&void 0!==o?o:"",target:"_blank",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,a.jsx)("div",{className:"flex flex-wrap",children:_.description3})]}):null]}),"png"==_.content_type?(0,a.jsx)("img",{className:"mt-2",src:null!==(u=_.url)&&void 0!==u?u:"",alt:_.ticker}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"justify-center lg:grid lg:grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"start-range",className:"justify-center flex mr-2 text-sm font-bold text-gray-900 dark:text-gray-900",children:["Start Date ",f.toLocaleDateString()]}),(0,a.jsx)("input",{name:"start-range",type:"range",min:-366,max:"366",value:b,className:"range range-primary",onChange:t=>{let n=Number(t.target.value);N(n);let a=new Date(new Date(e.item.date_start).getTime()+864e5*n);j(a)},step:"1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"end-range",className:"justify-center flex mr-2 text-sm font-bold text-gray-900 dark:text-gray-900",children:["End Date ",v.toLocaleDateString()]}),(0,a.jsx)("input",{name:"end-range",type:"range",min:-366,max:"366",value:k,className:"range range-primary",onChange:t=>{let n=Number(t.target.value);y(n);let a=new Date(new Date(e.item.date_end).getTime()+864e5*n);w(a)},step:"1"})]}),(0,a.jsx)("div",{className:"flex justify-center lg:justify-start",children:(0,a.jsx)("button",{className:"my-2 bg-primary hover:bg-primary text-white font-bold px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{T(m>500?"lg":"sm")},children:"Recalculate"})})]}),(0,a.jsx)("div",{style:{position:"relative",paddingBottom:"".concat("lg"==E?"56.25%":"100%")},children:(0,a.jsx)("iframe",{style:{width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px"},frameBorder:"0",allowFullScreen:!0,allow:"autoplay",srcDoc:"".concat(c(_))})})]}),(0,a.jsx)("div",{className:"divider"})]})})})};var o=e=>(s.useRef(),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pl-0 lg:pl-1 mb-1",children:[e.showNoneText&&0==e.data.length?(0,a.jsx)("p",{className:"text-sm p-5",children:"No Charts To Show"}):"",e.data&&e.data.length>0?e.data.map((e,t)=>(0,a.jsx)(d,{item:e},t)):null]})}))},2575:function(e,t,n){var a=n(7437);t.Z=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:e.text}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("span",{className:"loading loading-bars loading-lg text-primary "}),(0,a.jsx)("span",{className:"loading loading-bars loading-md text-primary"}),(0,a.jsx)("span",{className:"loading loading-bars loading-md text-primary"}),(0,a.jsx)("span",{className:"loading loading-bars loading-lg text-primary"})]})]})},6480:function(e,t,n){var a=n(7437),s=n(2265),l=n(4033),r=n(3635);t.Z=()=>{let[e,t]=(0,s.useState)("");(0,s.useRef)();let n=(0,l.useRouter)(),{width:i,height:c}=(0,r.dz)(),d=()=>{e&&""!=e&&n.push("/news?ticker=".concat(encodeURIComponent(e)))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"navbar bg-base-100 mb-3",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("a",{className:"text-primary btn btn-ghost normal-case",children:(0,a.jsxs)("h1",{className:"font-extrabold leading-none tracking-tight text-2xl lg:text-4xl text-black",children:["Hugging",(0,a.jsx)("span",{className:"underline underline-offset-3 decoration-8 decoration-primary",children:"Stock"})]})})}),(0,a.jsxs)("div",{className:"flex-none gap-2",children:[(0,a.jsx)("div",{className:"form-control",children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),d()},children:(0,a.jsx)("input",{name:"searchText",type:"text",placeholder:"Search By Ticker",className:"bg-white w-40 text-black input input-bordered",onChange:e=>{t(e.target.value)}})})}),(0,a.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,a.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,a.jsx)("div",{className:"avatar placeholder",children:(0,a.jsx)("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-10",children:(0,a.jsx)("span",{children:"MX"})})})}),(0,a.jsxs)("ul",{tabIndex:0,className:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-white text-black rounded-box w-52",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{className:"justify-between",children:["Profile",(0,a.jsx)("span",{className:"badge",children:"Soon"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{children:["Settings",(0,a.jsx)("span",{className:"badge",children:"Soon"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{children:["Logout",(0,a.jsx)("span",{className:"badge",children:"Soon"})]})})]})]})]})]})})}},3635:function(e,t,n){n.d(t,{a9:function(){return r},dz:function(){return c}});var a=n(4033),s=n(2265),l=n(8970);function r(){let e=(0,a.useRouter)(),t=(0,l.CG)(e=>e.trader);return(0,s.useEffect)(()=>{t&&""!=t.token||e.push("/login"),fetch("".concat("https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws","/auth/verify-token/"),{method:"POST",headers:{authorization:"Bearer ".concat(t.token)}}).then(t=>{200!=t.status&&e.push("/login")}).catch(e=>console.log("JWT Expired Error: ".concat(e)))},[t]),t}function i(){let{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function c(){let[e,t]=(0,s.useState)(i());return(0,s.useEffect)(()=>{function e(){t(i())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},306:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(7437),s=n(3198),l=n(8970);function r(e){let{children:t}=e;return(0,a.jsx)(s.zt,{store:l.ZP,children:t})}(0,n(1267).p5)(l.ZP)},8081:function(e,t,n){n.d(t,{QM:function(){return l}});var a=n(663);let s=(0,a.oM)({name:"trader",initialState:{email:"",token:""},reducers:{LOGIN_TRADER:(e,t)=>({...t.payload}),GET_TRADER:e=>e}}),{LOGIN_TRADER:l,GET_TRADER:r}=s.actions;t.ZP=s.reducer},8970:function(e,t,n){n.d(t,{ZP:function(){return x},TL:function(){return g},CG:function(){return p}});var a=n(7373),s=n(663),l=n(8081),r=n(1267),i=n(3944),c=n.n(i),d=n(5456);let o=(0,d.Z)("local");var u=n(3198);let h=(0,a.UY)({trader:(0,r.OJ)({key:"trader",storage:o,whitelist:["id","username","email","first_name","last_name","token","refresh_token"]},l.ZP)}),m=(0,s.xC)({reducer:h,middleware:e=>e({serializableCheck:!1}).concat(c())});var x=m;let g=()=>(0,u.I0)(),p=u.v9}}]);
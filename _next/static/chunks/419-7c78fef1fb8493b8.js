(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{4260:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(7437),s=a(2265),n=a(3635),i=a(8344),r=a(2575);let c=e=>{var t;new DOMParser().parseFromString(null!==(t=e.html_content)&&void 0!==t?t:"","text/html");let a=e.html_content;return a},d=e=>{var t,a,d,o,u;let m=(0,n.a9)(),{width:h,height:x}=(0,n.dz)(),g=new Date;g.setDate(g.getDate()-365);let[p,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)(g),[b,_]=(0,s.useState)(new Date),[k,D]=(0,s.useState)(30),[y,S]=(0,s.useState)(30),[C,L]=(0,s.useState)(i.r),[E,F]=(0,s.useState)(""),[T,z]=(0,s.useState)("lg"),B=t=>{if(w>b||b>new Date||w>new Date){F("You're dates are off.  Please fix first then Recalculate.");return}f(!0),F(""),z(t),fetch("".concat("https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws","/stocks/").concat(e.item.ticker,"/").concat(e.item.chart_url,"?date_start=").concat(w.toISOString().split("T")[0],"&date_end=").concat(b.toISOString().split("T")[0]).concat("sm"==t?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(m.token)}}).then(e=>e.json()).then(t=>{if(t){t[0].chart_url=e.item.chart_url,L(t[0]);let a=new Date(t[0].date_start),l=new Date(t[0].date_end);N(a),_(l)}f(!1)}).catch(e=>{let t="Chart Display Error: ".concat(e);F(t),f(!1),console.log(t)})};return(0,s.useEffect)(()=>{console.log("width adjusting"),h<=500&&"lg"==T&&!p&&B("sm"),h>500&&"sm"==T&&!p&&B("lg")},[h]),(0,s.useEffect)(()=>{if(f(!1),e.item&&0==C.id){L(e.item);let t=new Date(e.item.date_start),a=new Date(e.item.date_end);N(t),_(a)}},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"pl-4 pb-1 ".concat((e.bgColor,"bg-base-100")," "),children:(0,l.jsxs)("div",{className:"items-center",children:[p?(0,l.jsx)(r.Z,{}):null,""!=E?(0,l.jsx)("p",{className:"text-center text-error text-xs italic",children:E}):null,(0,l.jsxs)("div",{className:"collapse collapse-arrow bg-white",onClick:()=>{v(!j)},children:[(0,l.jsx)("input",{type:"radio",name:"accordion"+C.title,checked:j,onClick:()=>{v(!j)}}),(0,l.jsx)("div",{className:"collapse-title",children:(0,l.jsxs)("p",{className:"",children:[(0,l.jsx)("span",{className:"text-lg font-bold text-secondary",children:C.title}),(0,l.jsx)("span",{className:"text-lg text-neutral-500",children:" "+(null!==(t=C.shortDesc)&&void 0!==t?t:"")})]})}),(0,l.jsx)("div",{className:"collapse-content",children:(0,l.jsxs)("div",{className:"stats shadow mb-3 flex-col lg:flex-row",children:[(0,l.jsxs)("div",{className:"stat bg-white flex-wrap}",children:[(0,l.jsx)("div",{className:"stat-figure",children:(0,l.jsx)("a",{href:null!==(a=C.descLink1)&&void 0!==a?a:"",target:"_blank",children:(0,l.jsx)("img",{src:"/images/information.png"})})}),(0,l.jsx)("div",{className:"flex flex-wrap text-neutral-500",children:C.description1})]}),C.description2&&h>500?(0,l.jsxs)("div",{className:"stat bg-base-100",children:[(0,l.jsx)("div",{className:"stat-figure",children:(0,l.jsx)("a",{href:null!==(d=C.descLink2)&&void 0!==d?d:"",target:"_blank",children:(0,l.jsx)("img",{src:"/images/information.png"})})}),(0,l.jsx)("div",{className:"flex flex-wrap text-neutral",children:C.description2})]}):null,C.description3&&h>500?(0,l.jsxs)("div",{className:"stat bg-white",children:[(0,l.jsx)("div",{className:"stat-figure",children:(0,l.jsx)("a",{href:null!==(o=C.descLink3)&&void 0!==o?o:"",target:"_blank",children:(0,l.jsx)("img",{src:"/images/information.png"})})}),(0,l.jsx)("div",{className:"flex flex-wrap text-neutral-500",children:C.description3})]}):null]})})]}),"png"==C.content_type?(0,l.jsx)("div",{className:"",children:(0,l.jsx)("img",{className:"mt-2",src:null!==(u=C.url)&&void 0!==u?u:"",alt:C.ticker})}):(0,l.jsxs)("div",{className:"w-screen -mr-72",children:[(0,l.jsxs)("div",{className:"justify-center lg:grid lg:grid-cols-3 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"start-range",className:"justify-center flex mr-2 text-sm font-bold text-neutral dark:text-neutral",children:["Start Date ",w.toLocaleDateString()]}),(0,l.jsx)("input",{name:"start-range",type:"range",min:-366,max:"366",value:k,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);D(a);let l=new Date(new Date(e.item.date_start).getTime()+864e5*a);N(l)},step:"1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"end-range",className:"justify-center flex mr-2 text-sm font-bold text-neutral dark:text-neutral-200",children:["End Date ",b.toLocaleDateString()]}),(0,l.jsx)("input",{name:"end-range",type:"range",min:-366,max:"366",value:y,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);S(a);let l=new Date(new Date(e.item.date_end).getTime()+864e5*a);_(l)},step:"1"})]}),(0,l.jsx)("div",{className:"flex justify-center lg:justify-start",children:(0,l.jsx)("button",{className:"my-2 bg-primary text-base-100 hover:bg-primary font-bold px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{B(h>500?"lg":"sm")},children:"Recalculate"})})]}),(0,l.jsx)("div",{style:{position:"relative",paddingBottom:"".concat("lg"==T?"56.25%":"100%")},children:(0,l.jsx)("iframe",{style:{width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px",bottom:"0px"},frameBorder:"0",allowFullScreen:!0,allow:"autoplay",srcDoc:"".concat(c(C))})})]}),(0,l.jsx)("div",{className:"divider"})]})})})};var o=e=>(s.useRef(),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mb-10",children:[e.showNoneText&&0==e.data.length?(0,l.jsx)("p",{className:"text-sm p-5",children:"No Charts To Show"}):"",e.data&&e.data.length>0?e.data.map((e,t)=>(0,l.jsx)(d,{item:e,bgColor:(t+1)%2==0?"light":"dark"},t)):null]})}))},8344:function(e,t,a){"use strict";a.d(t,{r:function(){return l}});let l={id:0,date_start:"",info:void 0,path:null,url_pickle:null,filename:null,time_created:"",date_end:"",ticker:"",info_type:"",url:null,size:0,content_type:null,time_updated:null,title:null,shortDesc:null,shortLink:null,description1:null,descLink1:null,description2:null,descLink2:null,description3:null,descLink3:null,action:null,message:null,html_content:null,html_markups:{__html:""},chart_url:""}},4033:function(e,t,a){e.exports=a(8165)}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{764:function(e,t,a){Promise.resolve().then(a.bind(a,9389))},6360:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(7437),n=a(2265),l=a(3635);let i={id:0,date_start:"",info:void 0,path:null,url_pickle:null,filename:null,time_created:"",date_end:"",ticker:"",info_type:"",url:null,size:0,content_type:null,time_updated:null,title:null,description1:null,descLink1:null,description2:null,descLink2:null,description3:null,descLink3:null,action:null,message:null,html_content:null,html_markups:{__html:""},chart_url:""};var r=a(2575);let c=e=>{var t;new DOMParser().parseFromString(null!==(t=e.html_content)&&void 0!==t?t:"","text/html");let a=e.html_content;return a},o=e=>{var t,a,o,d,h;let u=(0,l.a9)(),{width:x,height:m}=(0,l.dz)(),g=new Date;g.setDate(g.getDate()-365);let[f,p]=(0,n.useState)(!1),[j,v]=(0,n.useState)(g),[w,N]=(0,n.useState)(new Date),[k,_]=(0,n.useState)(30),[b,y]=(0,n.useState)(30),[S,D]=(0,n.useState)(i),[C,E]=(0,n.useState)(""),[P,z]=(0,n.useState)("lg"),F=t=>{if(j>w||w>new Date||j>new Date){E("You're dates are off.  Please fix first then Recalculate.");return}p(!0),E(""),z(t),fetch("".concat("https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws","/stocks/").concat(e.item.ticker,"/").concat(e.item.chart_url,"?date_start=").concat(j.toISOString().split("T")[0],"&date_end=").concat(w.toISOString().split("T")[0]).concat("sm"==t?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(u.token)}}).then(e=>e.json()).then(t=>{if(t){t[0].chart_url=e.item.chart_url,D(t[0]);let a=new Date(t[0].date_start),s=new Date(t[0].date_end);v(a),N(s)}p(!1)}).catch(e=>{let t="Chart Display Error: ".concat(e);E(t),p(!1),console.log(t)})};return(0,n.useEffect)(()=>{console.log("width adjusting"),x<=500&&"lg"==P&&!f&&F("sm"),x>500&&"sm"==P&&!f&&F("lg")},[x]),(0,n.useEffect)(()=>{if(p(!1),e.item&&0==S.id){D(e.item);let t=new Date(e.item.date_start),a=new Date(e.item.date_end);v(t),N(a)}},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"pb-1 w-full ".concat((e.bgColor,"bg-gray-900")),children:(0,s.jsxs)("div",{className:"items-center w-full",children:[f?(0,s.jsx)(r.Z,{}):null,""!=C?(0,s.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:C}):null,(0,s.jsxs)("div",{className:"stats shadow mb-3 flex-col lg:flex-row",children:[(0,s.jsxs)("div",{className:"stat bg-white flex-wrap}",children:[(0,s.jsx)("div",{className:"stat-figure text-primary",children:(0,s.jsx)("a",{href:null!==(a=S.descLink1)&&void 0!==a?a:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"stat-value text-xl lg:text-2xl",children:x>500||S.title&&S.title.length<=33?S.title:(null===(t=S.title)||void 0===t?void 0:t.substring(0,33))+"..."}),(0,s.jsx)("div",{className:"flex flex-wrap",children:S.description1})]}),S.description2&&x>500?(0,s.jsxs)("div",{className:"stat bg-gray-900  text-white",children:[(0,s.jsx)("div",{className:"stat-figure text-secondary",children:(0,s.jsx)("a",{href:null!==(o=S.descLink2)&&void 0!==o?o:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"flex flex-wrap",children:S.description2})]}):null,S.description3&&x>500?(0,s.jsxs)("div",{className:"stat bg-white",children:[(0,s.jsx)("div",{className:"stat-figure text-secondary",children:(0,s.jsx)("a",{href:null!==(d=S.descLink3)&&void 0!==d?d:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"flex flex-wrap",children:S.description3})]}):null]}),"png"==S.content_type?(0,s.jsx)("img",{className:"mt-2",src:null!==(h=S.url)&&void 0!==h?h:"",alt:S.ticker}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"justify-center lg:grid lg:grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"start-range",className:"justify-center flex mr-2 text-sm font-bold text-gray-400 dark:text-gray-400",children:["Start Date ",j.toLocaleDateString()]}),(0,s.jsx)("input",{name:"start-range",type:"range",min:-366,max:"366",value:k,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);_(a);let s=new Date(new Date(e.item.date_start).getTime()+864e5*a);v(s)},step:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"end-range",className:"justify-center flex mr-2 text-sm font-bold text-gray-400 dark:text-gray-400",children:["End Date ",w.toLocaleDateString()]}),(0,s.jsx)("input",{name:"end-range",type:"range",min:-366,max:"366",value:b,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);y(a);let s=new Date(new Date(e.item.date_end).getTime()+864e5*a);N(s)},step:"1"})]}),(0,s.jsx)("div",{className:"flex justify-center lg:justify-start",children:(0,s.jsx)("button",{className:"my-2 bg-primary hover:bg-primary text-white font-bold px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{F(x>500?"lg":"sm")},children:"Recalculate"})})]}),(0,s.jsx)("div",{style:{position:"relative",paddingBottom:"".concat("lg"==P?"56.25%":"100%")},children:(0,s.jsx)("iframe",{style:{width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px"},frameBorder:"0",allowFullScreen:!0,allow:"autoplay",srcDoc:"".concat(c(S))})})]}),(0,s.jsx)("div",{className:"divider"})]})})})};var d=e=>(n.useRef(),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"pl-0 lg:pl-1 mb-1",children:[e.showNoneText&&0==e.data.length?(0,s.jsx)("p",{className:"text-sm p-5",children:"No Charts To Show"}):"",e.data&&e.data.length>0?e.data.map((e,t)=>(0,s.jsx)(o,{item:e,bgColor:(t+1)%2==0?"light":"dark"},t)):null]})}))},9389:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(7437),n=a(306),l=a(1423),i=a(6480),r=a(3635),c=a(4033),o=a(2265),d=a(2575),h=a(6360);let u=()=>{let e="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws",[t,a]=(0,o.useState)(1),[n,l]=(0,o.useState)(100),[i,c]=(0,o.useState)([]),[u,x]=(0,o.useState)(!1),m=(0,r.a9)(),{width:g,height:f}=(0,r.dz)();(0,o.useEffect)(()=>{x(!0),fetch("".concat(e,"/stocks/snp/?start=-1&end=-1&stock_start=").concat(t,"&stock_end=").concat(n,"&").concat(g<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(m.token)}}).then(e=>{if(n<503)a(n+1),l(n+100);else{let e=[];p(1,1,e),c(e)}x(!1)}).catch(e=>{x(!1),console.log("Get S&P Stocks Error: ".concat(e))})},[t,n]);let p=(t,a,s)=>{x(!0),fetch("".concat(e,"/stocks/snp/?start=").concat(t,"&end=").concat(a,"&").concat(g<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(m.token)}}).then(e=>e.json()).then(e=>{e&&e.length>0?(e[0].chart_url="squeeze",s.push(e[0]),p(t+1,a+1,s)):t<10&&p(t+1,a+1,s),x(!1)}).catch(e=>{x(!1),console.log("Get Chart Items Error: ".concat(e))})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("main",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white dark:text-white",children:u?(0,s.jsx)(d.Z,{text:"Analyzing S&P Companies"}):null}),u?(0,s.jsx)("div",{className:"flex items-center justify-center text-white dark:text-white",children:"...Please Wait. This might take awhile..."}):null,(0,s.jsx)("div",{className:"mb-5 ml-2 text-center text-white",children:(0,s.jsx)("h1",{className:"text-xl lg:text-2xl font-bold",children:"S&P500 Companies Daily Analysis"})}),(0,s.jsxs)("div",{className:"min-h-screen",children:[i&&!(i.length<=0)||u?"":(0,s.jsx)("p",{className:"text-center text-primary text-lg italic",children:"No Charts to Show..."}),(0,s.jsx)(h.Z,{data:i,showNoneText:!1})]})]})})})};var x=a(6782);function m(){(0,c.useRouter)();let{width:e,height:t}=(0,r.dz)(),a=(0,r.a9)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("main",{children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-2xl",children:[(0,s.jsx)(i.Z,{trader:a,currentPage:"snp"}),(0,s.jsx)(x.Z,{ticker:"S&P"}),(0,s.jsx)(u,{}),(0,s.jsx)(l.$,{ticker:"S&P"})]})})})}function g(){return(0,s.jsx)(n.Z,{children:(0,s.jsx)(m,{})})}},4033:function(e,t,a){e.exports=a(8165)}},function(e){e.O(0,[719,666,971,596,744],function(){return e(e.s=764)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{764:function(e,t,a){Promise.resolve().then(a.bind(a,9389))},4260:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(7437),n=a(2265),l=a(3635),r=a(8344),i=a(2575);let c=e=>{var t;new DOMParser().parseFromString(null!==(t=e.html_content)&&void 0!==t?t:"","text/html");let a=e.html_content;return a},o=e=>{var t,a,o,d;let u=(0,l.a9)(),{width:h,height:x}=(0,l.dz)(),m=new Date;m.setDate(m.getDate()-365);let[g,f]=(0,n.useState)(!1),[p,j]=(0,n.useState)(!1),[v,w]=(0,n.useState)(m),[N,k]=(0,n.useState)(new Date),[b,_]=(0,n.useState)(30),[S,y]=(0,n.useState)(30),[D,C]=(0,n.useState)(r.r),[E,z]=(0,n.useState)(""),[L,P]=(0,n.useState)("lg"),F=t=>{if(v>N||N>new Date||v>new Date){z("You're dates are off.  Please fix first then Recalculate.");return}f(!0),z(""),P(t),fetch("".concat("https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws","/stocks/").concat(e.item.ticker,"/").concat(e.item.chart_url,"?date_start=").concat(v.toISOString().split("T")[0],"&date_end=").concat(N.toISOString().split("T")[0]).concat("sm"==t?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(u.token)}}).then(e=>e.json()).then(t=>{if(t){t[0].chart_url=e.item.chart_url,C(t[0]);let a=new Date(t[0].date_start),s=new Date(t[0].date_end);w(a),k(s)}f(!1)}).catch(e=>{let t="Chart Display Error: ".concat(e);z(t),f(!1),console.log(t)})};return(0,n.useEffect)(()=>{console.log("width adjusting"),h<=500&&"lg"==L&&!g&&F("sm"),h>500&&"sm"==L&&!g&&F("lg")},[h]),(0,n.useEffect)(()=>{if(f(!1),e.item&&0==D.id){C(e.item);let t=new Date(e.item.date_start),a=new Date(e.item.date_end);w(t),k(a)}},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"pb-1 w-full ".concat((e.bgColor,"bg-base-100")),children:(0,s.jsxs)("div",{className:"items-center w-full",children:[g?(0,s.jsx)(i.Z,{}):null,""!=E?(0,s.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:E}):null,(0,s.jsxs)("div",{className:"collapse collapse-arrow bg-white",children:[(0,s.jsx)("input",{type:"radio",name:"accordion"+D.title,checked:p,onClick:()=>{j(!p)}}),(0,s.jsx)("div",{className:"collapse-title",children:(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold text-secondary",children:D.title}),(0,s.jsx)("span",{className:"text-lg text-neutral-500",children:" "+D.shortDesc})]})}),(0,s.jsx)("div",{className:"collapse-content",children:(0,s.jsxs)("div",{className:"stats shadow mb-3 flex-col lg:flex-row",children:[(0,s.jsxs)("div",{className:"stat bg-white flex-wrap}",children:[(0,s.jsx)("div",{className:"stat-figure",children:(0,s.jsx)("a",{href:null!==(t=D.descLink1)&&void 0!==t?t:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"flex flex-wrap text-neutral-500",children:D.description1})]}),D.description2&&h>500?(0,s.jsxs)("div",{className:"stat bg-base-100",children:[(0,s.jsx)("div",{className:"stat-figure",children:(0,s.jsx)("a",{href:null!==(a=D.descLink2)&&void 0!==a?a:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"flex flex-wrap text-neutral",children:D.description2})]}):null,D.description3&&h>500?(0,s.jsxs)("div",{className:"stat bg-white",children:[(0,s.jsx)("div",{className:"stat-figure",children:(0,s.jsx)("a",{href:null!==(o=D.descLink3)&&void 0!==o?o:"",target:"_blank",children:(0,s.jsx)("img",{src:"/images/information.png"})})}),(0,s.jsx)("div",{className:"flex flex-wrap text-neutral-500",children:D.description3})]}):null]})})]}),"png"==D.content_type?(0,s.jsx)("img",{className:"mt-2",src:null!==(d=D.url)&&void 0!==d?d:"",alt:D.ticker}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"justify-center lg:grid lg:grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"start-range",className:"justify-center flex mr-2 text-sm font-bold text-neutral dark:text-neutral",children:["Start Date ",v.toLocaleDateString()]}),(0,s.jsx)("input",{name:"start-range",type:"range",min:-366,max:"366",value:b,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);_(a);let s=new Date(new Date(e.item.date_start).getTime()+864e5*a);w(s)},step:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"end-range",className:"justify-center flex mr-2 text-sm font-bold text-neutral-200 dark:text-neutral-200",children:["End Date ",N.toLocaleDateString()]}),(0,s.jsx)("input",{name:"end-range",type:"range",min:-366,max:"366",value:S,className:"range range-primary bg-white",onChange:t=>{let a=Number(t.target.value);y(a);let s=new Date(new Date(e.item.date_end).getTime()+864e5*a);k(s)},step:"1"})]}),(0,s.jsx)("div",{className:"flex justify-center lg:justify-start",children:(0,s.jsx)("button",{className:"my-2 bg-secondary hover:bg-secondary text-white font-bold px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>{F(h>500?"lg":"sm")},children:"Recalculate"})})]}),(0,s.jsx)("div",{style:{position:"relative",paddingBottom:"".concat("lg"==L?"56.25%":"100%")},children:(0,s.jsx)("iframe",{style:{width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px",bottom:"0px"},frameBorder:"0",allowFullScreen:!0,allow:"autoplay",srcDoc:"".concat(c(D))})})]}),(0,s.jsx)("div",{className:"divider"})]})})})};var d=e=>(n.useRef(),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"pl-0 lg:pl-1 mb-10",children:[e.showNoneText&&0==e.data.length?(0,s.jsx)("p",{className:"text-sm p-5",children:"No Charts To Show"}):"",e.data&&e.data.length>0?e.data.map((e,t)=>(0,s.jsx)(o,{item:e,bgColor:(t+1)%2==0?"light":"dark"},t)):null]})}))},8344:function(e,t,a){"use strict";a.d(t,{r:function(){return s}});let s={id:0,date_start:"",info:void 0,path:null,url_pickle:null,filename:null,time_created:"",date_end:"",ticker:"",info_type:"",url:null,size:0,content_type:null,time_updated:null,title:null,shortDesc:null,shortLink:null,description1:null,descLink1:null,description2:null,descLink2:null,description3:null,descLink3:null,action:null,message:null,html_content:null,html_markups:{__html:""},chart_url:""}},9389:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(7437),n=a(306),l=a(6480),r=a(3635),i=a(4033),c=a(8344),o=a(2265),d=a(2575),u=a(4260);let h=()=>{let e="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws",[t,a]=(0,o.useState)(1),[n,l]=(0,o.useState)(100),[i,h]=(0,o.useState)([]),[x,m]=(0,o.useState)(!1),[g,f]=(0,o.useState)(c.r),p=(0,r.a9)(),{width:j,height:v}=(0,r.dz)();(0,o.useEffect)(()=>{m(!0),fetch("".concat(e,"/stocks/snp/?start=-1&end=-1&stock_start=").concat(t,"&stock_end=").concat(n).concat(j<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(p.token)}}).then(e=>{n<503?(a(n+1),l(n+100)):w(1,1),m(!1)}).catch(e=>{m(!1),console.log("Get S&P Stocks Error: ".concat(e))})},[t,n]),(0,o.useEffect)(()=>{g&&""!=g.ticker&&0==i.filter(e=>e.ticker==g.ticker).length&&(i.push(g),h(i))},[g,f]);let w=(t,a)=>{m(!0),fetch("".concat(e,"/stocks/snp/?start=").concat(t,"&end=").concat(a).concat(j<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(p.token)}}).then(e=>e.json()).then(e=>{e&&e.length>0&&(e[0].chart_url="squeeze",f(e[0]),w(t+1,a+1)),m(!1)}).catch(e=>{m(!1),console.log("Get Chart Items Error: ".concat(e))})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("main",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white dark:text-white",children:x?(0,s.jsx)(d.Z,{text:"Analyzing S&P Companies"}):null}),x?(0,s.jsx)("div",{className:"flex items-center justify-center text-white dark:text-white",children:"...Please Wait. This might take awhile..."}):null,(0,s.jsx)("div",{className:"mb-5 ml-2 text-center text-primary",children:(0,s.jsx)("h1",{className:"text-xl lg:text-2xl font-bold",children:"S&P500 Companies Daily Analysis"})}),(0,s.jsxs)("div",{className:"min-h-screen",children:[i&&!(i.length<=0)||x?"":(0,s.jsx)("p",{className:"text-center text-primary text-lg italic",children:"No Charts to Show..."}),(0,s.jsx)(u.Z,{data:i,showNoneText:!1})]})]})})})};var x=a(6782);function m(){(0,i.useRouter)();let{width:e,height:t}=(0,r.dz)(),a=(0,r.a9)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{children:[(0,s.jsx)(l.Z,{trader:a,currentPage:"snp"}),(0,s.jsxs)("div",{className:"bg-base-100 mt-20 ".concat(e>1020?"ml-20":""),children:[(0,s.jsx)(x.Z,{ticker:"S&P"}),(0,s.jsx)(h,{})]})]})})}function g(){return(0,s.jsx)(n.Z,{children:(0,s.jsx)(m,{})})}},4033:function(e,t,a){e.exports=a(8165)}},function(e){e.O(0,[719,110,971,596,744],function(){return e(e.s=764)}),_N_E=e.O()}]);
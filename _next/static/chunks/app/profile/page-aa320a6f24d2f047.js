(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{5884:function(e,t,a){Promise.resolve().then(a.bind(a,9860))},9860:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),l=a(306),n=a(2265),r=a(2575),o=a(3635),i=a(6480),c=a(6782);let d={username:"",password:""};function u(e){let t="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws",{width:a,height:l}=(0,o.dz)(),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(d),[p,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(""),[N,j]=(0,n.useState)(""),[w,y]=(0,n.useState)(""),[v,k]=(0,n.useState)(""),[_,S]=(0,n.useState)(""),[P,C]=(0,n.useState)(""),E=(0,o.a9)();(0,n.useEffect)(()=>{fetch("".concat(t,"/traders/").concat(E.id,"/"),{headers:{authorization:"Bearer ".concat(E.token)}}).then(e=>e.json()).then(e=>{h({username:e.username,firstName:e.first_name,lastName:e.last_name,password:e.password,email:e.email}),m(!1)}).catch(e=>{let t="Get Trader Error: ".concat(e);f(t),m(!1),console.log(t)})},[e]);let V=async e=>{var a,s,l,n,r;e.preventDefault();let o={first_name:null!==(a=x.firstName)&&void 0!==a?a:"",last_name:null!==(s=x.lastName)&&void 0!==s?s:"",username:null!==(l=x.username)&&void 0!==l?l:"",email:null!==(n=x.email)&&void 0!==n?n:"",password:null!==(r=x.password)&&void 0!==r?r:""};""==o.first_name.trim()&&y("First Name is required"),""==o.last_name.trim()&&k("Last Name is required"),""!=o.first_name.trim()&&""!=o.last_name.trim()?(m(!0),fetch("".concat(t,"/traders/").concat(E.id),{body:JSON.stringify(o),method:"PATCH",headers:{Authorization:"Bearer ".concat(E.token),"content-type":"application/json"}}).then(e=>{if(200==e.status)return e.json();f(e.statusText),m(!1)}).then(e=>{e&&void 0!=e.status_code&&200!=e.status_code?f(e.detail.message):g("Your profile has been updated."),m(!1)}).catch(e=>console.log("Profile Page Error: ".concat(e)))):f("Please correct all red items above.")};return(0,s.jsxs)("main",{children:[(0,s.jsx)(i.Z,{trader:E,currentPage:"profile"}),(0,s.jsx)("div",{className:"bg-base-100 dark:bg-base-100 min-h-screen w-full flex flex-col \n       mt-20 ".concat(a>1020?"ml-20":""),children:(0,s.jsxs)("div",{className:"self-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)(c.Z,{ticker:"S&P"})}),(0,s.jsx)("div",{className:"ml-2 text-center text-primary",children:(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Profile Settings"})}),u?(0,s.jsx)(r.Z,{}):null,(0,s.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:V,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"".concat(""!=N?"text-red-300":"text-gray-700"," block text-sm font-bold mb-2"),children:""!=N?N:"Email"}),(0,s.jsx)("input",{disabled:!0,className:"shadow appearance-none border rounded w-72 py-2 px-3 text-black dark:text-black leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"Email",name:"email",defaultValue:x.email,onChange:e=>{x.email=e.target.value,h(x),j("")}})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"".concat(""!=w?"text-red-300":"text-gray-700"," block text-gray-700 text-sm font-bold mb-2"),children:""!=w?w:"First Name"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-black dark:text-black leading-tight focus:outline-none focus:shadow-outline",id:"first-name",type:"text",placeholder:"First Name",name:"first-name",defaultValue:x.firstName,onChange:e=>{x.firstName=e.target.value,h(x),y("")}})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"".concat(""!=v?"text-red-300":"text-gray-700"," block text-gray-700 text-sm font-bold mb-2"),children:""!=v?v:"Last Name"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-black dark:text-black leading-tight focus:outline-none focus:shadow-outline",id:"last-name",type:"text",placeholder:"Last Name",name:"last-name",defaultValue:x.lastName,onChange:e=>{x.lastName=e.target.value,h(x),k("")}})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"".concat(""!=_?"text-red-300":"text-gray-700"," block text-gray-700 text-sm font-bold mb-2"),children:""!=_?_:"Username"}),(0,s.jsx)("input",{disabled:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-black dark:text-black leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username",name:"username",defaultValue:x.username,onChange:e=>{x.username=e.target.value,h(x),S("")}})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"".concat(""!=P?"text-red-300":"text-gray-700"," block text-gray-700 text-sm font-bold mb-2"),children:""!=P?P:"Password"}),(0,s.jsx)("input",{disabled:!0,className:"shadow appearance-none border border-gray-700 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************",name:"password",defaultValue:x.password,onChange:e=>{x.password=e.target.value,h(x),C("")}})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("button",{className:"bg-secondary hover:bg-secondary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Update Profile"})}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[""!==p?(0,s.jsx)("p",{className:"text-center mt-5 text-red-500 text-xs italic",children:p}):null,""!==b?(0,s.jsx)("p",{className:"text-center mt-5 text-primary text-xs italic",children:b}):null]})]}),(0,s.jsx)("p",{className:"text-center text-white dark:text-white text-xs",children:"\xa92023 Hula Hoopsters. All rights reserved."})]})})]})}function m(){return(0,s.jsx)(l.Z,{children:(0,s.jsx)(u,{})})}},4033:function(e,t,a){e.exports=a(8165)}},function(e){e.O(0,[719,110,971,596,744],function(){return e(e.s=5884)}),_N_E=e.O()}]);
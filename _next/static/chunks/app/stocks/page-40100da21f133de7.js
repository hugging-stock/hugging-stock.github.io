(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{1728:function(e,t,c){Promise.resolve().then(c.bind(c,9382))},9382:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return f}});var n=c(7437),s=c(306),a=c(4260),r=c(2575),i=c(6480),o=c(6782),l=c(4585),h=c(6593),u=c(3635),d=c(4033),k=c(2265);function x(e){let t=(0,d.useSearchParams)(),c=(0,d.useRouter)(),{width:s,height:x}=(0,u.dz)(),f=(0,u.a9)(),m=[],[j,v]=(0,k.useState)(0),[g,p]=(0,k.useState)(0),[b,N]=(0,k.useState)(m),[S,w]=(0,k.useState)([]),[C,E]=(0,k.useState)(!1),[_,Z]=(0,k.useState)(""),[A,I]=(0,k.useState)(""),P="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws";return(0,k.useEffect)(()=>{let e=t.get("ticker")?decodeURIComponent(t.get("ticker")):null;E(!0),Z(""),fetch("".concat(P,"/traders/").concat(f.id,"/stocks/"),{headers:{authorization:"Bearer ".concat(f.token)}}).then(e=>e.json()).then(t=>{let c=0;t.map((t,n)=>{t.ticker==e&&(c=n)}),w(t),(!t||!t[c]||t&&t[c]&&t[c].ticker!=e)&&e&&"S&P"!=decodeURIComponent(e)?(t.push({ticker:e,ticker_new:!0}),w(t),v(t.length-1)):v(c),t&&0!=t.length||I("Add a new stock ticker above to get started with charts..."),E(!1)}).catch(e=>{let t="Get Nav Items Error: ".concat(e);Z(t),E(!1),console.log(t)})},[e]),(0,k.useEffect)(()=>{I(""),S.length>0&&j>=0&&c.push("/stocks?ticker=".concat(encodeURIComponent(S[j].ticker)))},[j,v]),(0,k.useEffect)(()=>{if(S.length>0&&j>=0){let t=l.g[g];E(!0),Z(""),N(m);let c=[];for(var e=0;e<t.endpoint.length;e++){let n=t.endpoint[e];fetch("".concat(P,"/stocks/").concat(S[j].ticker,"/").concat(n,"?").concat(s<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(f.token)}}).then(e=>e.json()).then(e=>{e&&e.length>0&&(e[0].chart_url=n,N(c=[...c,...e])),E(!1)}).catch(e=>{let t="Active Chart Nav Select Error: ".concat(e);Z(t),E(!1),console.log(t)})}}},[S,j,v,g]),(0,n.jsxs)("main",{children:[(0,n.jsx)(i.Z,{trader:f,currentPage:"stock-ticker"}),(0,n.jsxs)("div",{className:"bg-base-100 dark:bg-base-100 mt-20 ".concat(s>1020?"ml-20":""),children:[(0,n.jsx)(h.Z,{data:S,activeTab:j,setActiveTab:v}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{activeChart:g,setActiveChart:p}),""!=_?(0,n.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:_}):null,C?(0,n.jsx)(r.Z,{}):null,""!=A?(0,n.jsx)("div",{className:"min-h-screen",children:(0,n.jsx)("p",{className:"text-center text-primary text-lg italic",children:A})}):null,(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"inline-block",children:(0,n.jsx)(o.Z,{ticker:"".concat(S&&S[j]?S[j].ticker:"")})}),(0,n.jsx)("div",{className:"inline-block",children:(0,n.jsx)(a.Z,{data:b})})]})]})]})]})}function f(){return(0,n.jsx)(s.Z,{children:(0,n.jsx)(x,{})})}}},function(e){e.O(0,[719,396,110,515,971,596,744],function(){return e(e.s=1728)}),_N_E=e.O()}]);
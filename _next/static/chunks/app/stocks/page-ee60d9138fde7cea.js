(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{1728:function(e,t,c){Promise.resolve().then(c.bind(c,9382))},9382:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return g}});var n=c(7437),a=c(306),r=c(6360),s=c(1423),o=c(2575),i=c(6480),l=c(6782),u=c(4585),h=c(6593),d=c(3635),k=c(4033),f=c(2265);function x(e){let t=(0,k.useSearchParams)(),c=(0,k.useRouter)(),{width:a,height:x}=(0,d.dz)(),g=(0,d.a9)(),p=[],[j,v]=(0,f.useState)(0),[m,S]=(0,f.useState)(0),[b,C]=(0,f.useState)(p),[w,E]=(0,f.useState)([]),[_,N]=(0,f.useState)(!1),[P,Z]=(0,f.useState)(""),I="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws";return(0,f.useEffect)(()=>{let e=t.get("ticker")?decodeURIComponent(t.get("ticker")):null;(null==e||"null"==e||"S%26P"==e||"S&P"==e)&&c.push("/news?ticker=".concat(encodeURIComponent("S&P"))),N(!0),Z(""),fetch("".concat(I,"/traders/").concat(g.id,"/stocks/"),{headers:{authorization:"Bearer ".concat(g.token)}}).then(e=>e.json()).then(t=>{let c=0;t.map((t,n)=>{t.ticker==e&&(c=n)}),E(t),(!t||!t[c]||t&&t[c]&&t[c].ticker!=e)&&e&&"S&P"!=decodeURIComponent(e)?(t.push({ticker:e,ticker_new:!0}),E(t),v(t.length-1)):v(c),N(!1)}).catch(e=>{let t="Get Nav Items Error: ".concat(e);Z(t),N(!1),console.log(t)})},[e]),(0,f.useEffect)(()=>{w.length>0&&j>=0&&c.push("/stocks?ticker=".concat(encodeURIComponent(w[j].ticker)))},[j,v]),(0,f.useEffect)(()=>{if(w.length>0&&j>=0){let t=u.g[m];N(!0),Z(""),C(p);let c=[];for(var e=0;e<t.endpoint.length;e++){let n=t.endpoint[e];fetch("".concat(I,"/stocks/").concat(w[j].ticker,"/").concat(n,"?").concat(a<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(g.token)}}).then(e=>e.json()).then(e=>{e&&e.length>0&&(e[0].chart_url=n,C(c=[...c,...e])),N(!1)}).catch(e=>{let t="Active Chart Nav Select Error: ".concat(e);Z(t),N(!1),console.log(t)})}}},[w,j,v,m]),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-900",children:[(0,n.jsx)(i.Z,{trader:g,currentPage:"stock-ticker"}),(0,n.jsx)(h.Z,{data:w,activeTab:j,setActiveTab:v}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.Z,{activeChart:m,setActiveChart:S}),(0,n.jsx)(l.Z,{ticker:"".concat(w&&w[j]?w[j].ticker:"")}),""!=P?(0,n.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:P}):null,_?(0,n.jsx)(o.Z,{}):null,(0,n.jsx)(r.Z,{data:b})]}),(0,n.jsx)(s.$,{ticker:"".concat(w&&w[j]?w[j].ticker:"")})]})})}function g(){return(0,n.jsx)(a.Z,{children:(0,n.jsx)(x,{})})}}},function(e){e.O(0,[719,396,666,536,971,596,744],function(){return e(e.s=1728)}),_N_E=e.O()}]);
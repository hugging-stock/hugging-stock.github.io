(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{1728:function(t,e,c){Promise.resolve().then(c.bind(c,9382))},9382:function(t,e,c){"use strict";c.r(e),c.d(e,{default:function(){return g}});var n=c(7437),a=c(306),r=c(6360),s=c(1423),o=c(2575),i=c(6480),l=c(6782),u=c(4585),h=c(6593),d=c(3635),k=c(4033),x=c(2265);function f(t){let e=(0,k.useSearchParams)(),c=(0,k.useRouter)(),{width:a,height:f}=(0,d.dz)(),g=(0,d.a9)(),j=[],[m,p]=(0,x.useState)(0),[v,b]=(0,x.useState)(0),[S,w]=(0,x.useState)(j),[N,C]=(0,x.useState)([]),[E,_]=(0,x.useState)(!1),[Z,A]=(0,x.useState)(""),[I,P]=(0,x.useState)(""),R="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws";return(0,x.useEffect)(()=>{let t=e.get("ticker")?decodeURIComponent(e.get("ticker")):null;_(!0),A(""),fetch("".concat(R,"/traders/").concat(g.id,"/stocks/"),{headers:{authorization:"Bearer ".concat(g.token)}}).then(t=>t.json()).then(e=>{let c=0;e.map((e,n)=>{e.ticker==t&&(c=n)}),C(e),(!e||!e[c]||e&&e[c]&&e[c].ticker!=t)&&t&&"S&P"!=decodeURIComponent(t)?(e.push({ticker:t,ticker_new:!0}),C(e),p(e.length-1)):p(c),e&&0!=e.length||P("Add a new stock ticker above to get started with charts..."),_(!1)}).catch(t=>{let e="Get Nav Items Error: ".concat(t);A(e),_(!1),console.log(e)})},[t]),(0,x.useEffect)(()=>{P(""),N.length>0&&m>=0&&c.push("/stocks?ticker=".concat(encodeURIComponent(N[m].ticker)))},[m,p]),(0,x.useEffect)(()=>{if(N.length>0&&m>=0){let e=u.g[v];_(!0),A(""),w(j);let c=[];for(var t=0;t<e.endpoint.length;t++){let n=e.endpoint[t];fetch("".concat(R,"/stocks/").concat(N[m].ticker,"/").concat(n,"?").concat(a<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(g.token)}}).then(t=>t.json()).then(t=>{t&&t.length>0&&(t[0].chart_url=n,w(c=[...c,...t])),_(!1)}).catch(t=>{let e="Active Chart Nav Select Error: ".concat(t);A(e),_(!1),console.log(e)})}}},[N,m,p,v]),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-900 rounded-2xl",children:[(0,n.jsx)(i.Z,{trader:g,currentPage:"stock-ticker"}),(0,n.jsx)(h.Z,{data:N,activeTab:m,setActiveTab:p}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.Z,{activeChart:v,setActiveChart:b}),(0,n.jsx)(l.Z,{ticker:"".concat(N&&N[m]?N[m].ticker:"")}),""!=Z?(0,n.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:Z}):null,E?(0,n.jsx)(o.Z,{}):null,""!=I?(0,n.jsx)("div",{className:"min-h-screen",children:(0,n.jsx)("p",{className:"text-center text-primary text-lg italic",children:I})}):null,(0,n.jsx)(r.Z,{data:S})]}),(0,n.jsx)(s.$,{ticker:"".concat(N&&N[m]?N[m].ticker:"")})]})})}function g(){return(0,n.jsx)(a.Z,{children:(0,n.jsx)(f,{})})}}},function(t){t.O(0,[719,396,666,536,971,596,744],function(){return t(t.s=1728)}),_N_E=t.O()}]);
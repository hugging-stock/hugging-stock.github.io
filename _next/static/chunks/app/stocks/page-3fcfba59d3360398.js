(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{1728:function(e,t,c){Promise.resolve().then(c.bind(c,9382))},9382:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return g}});var n=c(7437),a=c(306),s=c(6360),r=c(1423),o=c(2575),i=c(6480),l=c(6782),u=c(4585),h=c(6593),d=c(3635),k=c(4033),f=c(2265);function x(){let e=(0,k.useSearchParams)(),t=(0,k.useRouter)(),{width:c,height:a}=(0,d.dz)(),x=(0,d.a9)(),g=[],[p,j]=(0,f.useState)(0),[v,m]=(0,f.useState)(0),[S,b]=(0,f.useState)(g),[C,w]=(0,f.useState)([]),[E,_]=(0,f.useState)(!1),[N,Z]=(0,f.useState)(""),P="https://e32lo3t2uikatpsxb6u2ewexqq0gvlvm.lambda-url.us-west-1.on.aws";return(0,f.useEffect)(()=>{let c=e.get("ticker")?decodeURIComponent(e.get("ticker")):null;(null==c||"null"==c||"S%26P"==c||"S&P"==c)&&t.push("/news?ticker=".concat(encodeURIComponent("S&P"))),_(!0),Z(""),fetch("".concat(P,"/traders/").concat(x.id,"/stocks/"),{headers:{authorization:"Bearer ".concat(x.token)}}).then(e=>e.json()).then(e=>{let t=0;e.map((e,n)=>{e.ticker==c&&(t=n)}),w(e),(!e||!e[t]||e&&e[t]&&e[t].ticker!=c)&&c&&"S&P"!=decodeURIComponent(c)?(e.push({ticker:c,ticker_new:!0}),w(e),j(e.length-1)):j(t),_(!1)}).catch(e=>{let t="Get Nav Items Error: ".concat(e);Z(t),_(!1),console.log(t)})},[]),(0,f.useEffect)(()=>{C.length>0&&p>=0&&t.push("/stocks?ticker=".concat(encodeURIComponent(C[p].ticker)))},[p,j]),(0,f.useEffect)(()=>{if(C.length>0&&p>=0){let t=u.g[v];_(!0),Z(""),b(g);let n=[];for(var e=0;e<t.endpoint.length;e++){let a=t.endpoint[e];fetch("".concat(P,"/stocks/").concat(C[p].ticker,"/").concat(a,"?").concat(c<=500?"&width=430&height=430":""),{headers:{authorization:"Bearer ".concat(x.token)}}).then(e=>e.json()).then(e=>{e&&e.length>0&&(e[0].chart_url=a,b(n=[...n,...e])),_(!1)}).catch(e=>{let t="Active Chart Nav Select Error: ".concat(e);Z(t),_(!1),console.log(t)})}}},[C,p,j,v]),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-900",children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)(h.Z,{data:C,activeTab:p,setActiveTab:j}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.Z,{activeChart:v,setActiveChart:m}),(0,n.jsx)(l.Z,{ticker:"".concat(C&&C[p]?C[p].ticker:"")}),""!=N?(0,n.jsx)("p",{className:"text-center text-red-500 text-xs italic",children:N}):null,E?(0,n.jsx)(o.Z,{}):null,(0,n.jsx)(s.Z,{data:S})]}),(0,n.jsx)(r.$,{ticker:"".concat(C&&C[p]?C[p].ticker:"")})]})})}function g(){return(0,n.jsx)(a.Z,{children:(0,n.jsx)(x,{})})}}},function(e){e.O(0,[719,396,666,536,971,596,744],function(){return e(e.s=1728)}),_N_E=e.O()}]);